---
title: "ã“ã‚Œæœ¬å½“ã«Bå•é¡Œï¼Ÿ"
emoji: "ðŸ¤”"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["AtCoder", "Python", "Bå•é¡Œ"]
published: true
---

ä»Šå›žã¯ï¼ŒAtCoder Beginner Contest 376 B å•é¡Œã‚’è§£ã„ãŸéš›ã®ãƒ¡ãƒ¢ã‚’æ®‹ã—ã¦ãŠãã¾ã™ï¼Ž
æœ€è¿‘ã® AtCoder ã¯ï¼ŒB å•é¡Œã§ã‚‚ã¡ã‚‡ã£ã¨ã—ãŸå·¥å¤«ãŒå¿…è¦ãªã“ã¨ãŒå¤šã„ã§ã™ã­ï¼Ž
ã€ŒAI ã®é€²åŒ–ã«ã‚ˆã‚Šï¼Œé›£æ˜“åº¦ãŒä¸ŠãŒã£ã¦ã„ã‚‹ã®ã‹ã‚‚ã€ã¨ã‹æ€ã£ã¦ã—ã¾ã„ã¾ã™ï¼Ž

### [AtCoder Beginner Contest 376 B](https://atcoder.jp/contests/abc376/tasks/abc376_b)

https://atcoder.jp/contests/abc376/tasks/abc376_b

## å›žç­”

è‡ªåˆ†ã§è¨˜è¿°ã—ãŸã‚³ãƒ¼ãƒ‰ã¯ã™ã”ã„å†—é•·ã§ã—ãŸã®ã§ï¼Œè§£èª¬ã®ã‚³ãƒ¼ãƒ‰ã‚’è¼‰ã›ã¦ãŠãã¾ã™ï¼Ž

```python
def num_move(n, from_, to, ng):
    if from_ > to:
        from_, to = to, from_  # always from_ <= to

    if from_ <= ng <= to:
        return from_ + n - to  # (from_ - 1) + 1 + (N - to)
    else:
        return to - from_


n, q = map(int, input().split())
l, r = 1, 2
ans = 0
for _ in range(q):
    h, t = input().split()
    t = int(t)
    if h == "L":
        ans += num_move(n, l, t, r)
        l = t
    else:
        ans += num_move(n, r, t, l)
        r = t
print(ans)
```

::: details N + from - to ãŒç†è§£ã§ããªã„å ´åˆ
è¨ˆç®—å¼ **\( (from - 1) + 1 + (N - to) = N + from - to \)** ã¯ã€å††ç’°ä¸Šã§ã€Œngã€ã‚’é¿ã‘ã¦ã€Œfromã€ã‹ã‚‰ã€Œtoã€ã¾ã§æœ€çŸ­ã§ç§»å‹•ã™ã‚‹å›žæ•°ã‚’è¡¨ã—ã¦ã„ã¾ã™ã€‚

### å‰æã¨è¨­å®š

- **\( N \)** ã¯å††ç’°ã®å…¨ä½“ã®å¤§ãã•ã€ã¤ã¾ã‚Šæœ€ã‚‚å¤§ããªç•ªå·ã§ã™ã€‚ä¾‹ãˆã°ã€å††ç’°ãŒ 1 ã‹ã‚‰ N ã¾ã§ã®å ´æ‰€ã‚’æŒã£ã¦ã„ã‚‹ã¨è€ƒãˆã¾ã™ã€‚
- **\( from \)** ã¯ã‚¹ã‚¿ãƒ¼ãƒˆä½ç½®ã€**\( to \)** ã¯ã‚´ãƒ¼ãƒ«ä½ç½®ã§ã™ã€‚
- ãŸã ã—ã€é€”ä¸­ã« **\( ng \)** ã¨ã„ã†é¿ã‘ãªã‘ã‚Œã°ãªã‚‰ãªã„ä½ç½®ãŒã‚ã‚Šã¾ã™ã€‚

### é€†æ–¹å‘ã«ç§»å‹•ã™ã‚‹å ´åˆ

ã€Œngã€ãŒ \( from â†’ to \) ã®é–“ã«ã‚ã‚‹å ´åˆã€é †æ–¹å‘ã§ã¯ãªãé€†æ–¹å‘ï¼ˆã¤ã¾ã‚Šåæ™‚è¨ˆå›žã‚Šã«ï¼‰ã«å›žã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚é€†æ–¹å‘ã«é€²ã‚€å ´åˆã®ç§»å‹•å›žæ•°ã¯ã€æ¬¡ã®ã‚ˆã†ã«ã—ã¦å°Žã‹ã‚Œã¾ã™ã€‚

1. **\( from \) ã‹ã‚‰ 1 ã¾ã§ç§»å‹•ã™ã‚‹å›žæ•°**  
   \( from â†’ 1 \) ã¾ã§ã®ç§»å‹•å›žæ•°ã¯ \( from - 1 \) ã§ã™ã€‚

2. **å††ç’°ã®æœ€å¾Œã®ä½ç½® \( N \) ã«ç§»å‹•ã™ã‚‹**  
   å††ç’°ä¸Šã§ã¯ 1 ã®æ¬¡ãŒ\( N \)ã§ã‚ã‚‹ãŸã‚ã€1 ã‹ã‚‰ \( N \) ã¸ã®ç§»å‹•å›žæ•°ã¯ 1 å›žã§ã™ã€‚

3. **\( N \) ã‹ã‚‰ \( to \) ã¾ã§ç§»å‹•ã™ã‚‹å›žæ•°**  
   æœ€å¾Œã« \( N â†’ to \) ã«ç§»å‹•ã—ã¾ã™ã€‚ã“ã‚Œã«ã¯ \( N - to \) å›žã‹ã‹ã‚Šã¾ã™ã€‚

ã“ã‚Œã‚‰ 3 ã¤ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’è¶³ã—åˆã‚ã›ã‚‹ã¨ã€æ¬¡ã®ã‚ˆã†ãªå¼ãŒå°Žã‹ã‚Œã¾ã™ï¼š

```plaintext
(from - 1) + 1 + (N - to)
```

ã“ã‚Œã¯ã€ã‚¹ã‚¿ãƒ¼ãƒˆã‹ã‚‰åå¯¾æ–¹å‘ã«å›žã£ã¦ã‚´ãƒ¼ãƒ«ã«ãŸã©ã‚Šç€ãã¾ã§ã®å…¨ä½“ã®ç§»å‹•å›žæ•°ã‚’è¡¨ã—ã¦ã„ã¾ã™ã€‚

### å¼ã®ç°¡ç•¥åŒ–

ä¸Šè¨˜ã®å¼ã‚’æ•´ç†ã™ã‚‹ã¨ã€æ¬¡ã®ã‚ˆã†ã«ç°¡ç•¥åŒ–ã§ãã¾ã™ï¼š

```plaintext
(from - 1) + 1 + (N - to) = N + from - to
```

ã¤ã¾ã‚Šã€æœ€çµ‚çš„ãªå¼ã¯ \( N + from - to \) ã¨ã„ã†ã‚·ãƒ³ãƒ—ãƒ«ãªå½¢ã«ã¾ã¨ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

### ã¾ã¨ã‚

ã“ã®å¼ã¯ã€ã€Œngã€ã‚’é¿ã‘ã‚‹ãŸã‚ã«é€†æ–¹å‘ï¼ˆåæ™‚è¨ˆå›žã‚Šï¼‰ã«ç§»å‹•ã™ã‚‹å ´åˆã®ç§»å‹•å›žæ•°ã‚’è¨ˆç®—ã™ã‚‹ã‚‚ã®ã§ã€ä»¥ä¸‹ã® 3 ã¤ã®è¦ç´ ã«åˆ†è§£ã•ã‚Œã¾ã™ï¼š

- \( from \) ã‹ã‚‰ \( 1 \) ã¾ã§ã®ç§»å‹•å›žæ•°
- 1 ã‹ã‚‰ \( N \) ã¸ã®ç§»å‹•ï¼ˆå††ç’°ã®ã¤ãªãŒã‚Šã‚’è€ƒæ…®ï¼‰
- \( N \) ã‹ã‚‰ \( to \) ã¾ã§ã®ç§»å‹•

æœ€çµ‚çš„ã«ã“ã®åˆè¨ˆãŒ \( N + from - to \) ã¨ã„ã†å½¢ã«ãªã‚Šã¾ã™ã€‚
:::

ï¼–é€šã‚Šã«å ´åˆåˆ†ã‘ã—ã¦è€ƒãˆã‚‹å ´åˆã¯ï¼Œä¸‹è¨˜ã®è¨˜äº‹ãŒå‚è€ƒã«ãªã‚Šã¾ã™ï¼Ž

https://yuulis.hatenablog.com/entry/ABC-376-B
